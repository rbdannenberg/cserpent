require "src/frontend/compile"
require "src/backend/codegen_visitor"
load "debug"

res = parse_ast("tests/serpent/full_pipeline/dictionaries.srp")
if not res.ok:
    print format_error(res.error)

print_ast(res.result)
visitor = CodegenVisitor("compilation_output")
visitor.generate_code("binary_trees", res.result, main=true)

exit()
