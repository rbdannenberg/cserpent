require "src/frontend/compile"
require "src/backend/codegen_visitor"
load "debug"

# Passed:
# account.srp
# arrays.srp
# classes_require.srp
# hofs.srp
# strings.srp

# Passed:
# binary-trees.srp
# binary-trees2.srp
# mini-tree.srp
# symbols.srp



// res = parse_ast("tests/serpent/full_pipeline/named_account.srp")
res = parse_ast("benchmarks/srp/mini.srp")
if not res.ok:
    print format_error(res.error)

print_ast(res.result)
// visitor = CodegenVisitor("compilation_output")
// visitor.generate_code("binary_trees", res.result, main=true)

// exit()
